heavy internal changes to my liking, forked from [sadparadiseinhell](https://github.com/sadparadiseinhell/tea-green)
